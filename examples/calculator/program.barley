-module(test).

eval(String) ->
    Tokens = lexer:lex(String),
    io:fwriteln(Tokens),
    Tree = parser:parse(Tokens),
    io:fwriteln(Tree),
    [Value] = lists:map(interpreter:eval, Tree),
    Value.

prompt() ->
    io:write(">> "),
    Prompt = io:readline(),
    io:fwriteln(eval(Prompt)),
    prompt().

main() ->
    prompt().
